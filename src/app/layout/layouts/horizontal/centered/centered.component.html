<!-- 加载栏 -->
<ws-loading-bar></ws-loading-bar>

<div class="flex justify-center flex-auto w-full bg-gray-200 sm:p-4 md:p-8 dark:bg-card">
  <!-- 导航 -->
  <ng-container *ngIf="isScreenSmall">
    <ws-vertical-navigation
      class="bg-gray-900 dark print:hidden"
      [mode]="'over'"
      [name]="'mainNavigation'"
      [navigation]="navigation.default"
      [opened]="false"
    >
      <!-- 导航头部钩子 -->
      <ng-container wsVerticalNavigationContentHeader>
        <!-- Logo -->
        <div class="flex items-center h-20 px-8 pt-6">
          <img class="w-30" src="assets/images/logo/weishour.svg" />
        </div>
      </ng-container>
    </ws-vertical-navigation>
  </ng-container>

  <!-- 包装 -->
  <div
    class="flex flex-col items-center flex-auto min-w-0 overflow-hidden shadow-2xl max-w-360 sm:rounded-xl dark:shadow-none"
  >
    <!-- 头部 -->
    <div
      class="relative flex items-center w-full h-16 px-4 border-b flex-0 sm:h-20 md:px-6 z-49 bg-card dark:bg-default print:hidden"
    >
      <ng-container *ngIf="!isScreenSmall">
        <!-- logo -->
        <div class="flex items-center mx-2 lg:mr-8">
          <div class="hidden lg:flex">
            <!-- 浅色版本 -->
            <img class="w-24 dark:hidden" src="assets/images/logo/weishour.svg" alt="Logo image" />
            <!-- 深色版本 -->
            <img
              class="hidden w-24 dark:flex"
              src="assets/images/logo/weishour.svg"
              alt="Logo image"
            />
          </div>
          <!-- 小版本 -->
          <img class="flex w-8 lg:hidden" src="assets/images/logo/logo.svg" alt="Logo image" />
        </div>
        <!-- 水平导航 -->
        <ws-horizontal-navigation
          class="mr-2"
          [name]="'mainNavigation'"
          [navigation]="navigation.horizontal"
        ></ws-horizontal-navigation>
      </ng-container>
      <!-- 导航切换按钮 -->
      <ng-container *ngIf="isScreenSmall">
        <button class="mr-2" mat-icon-button (click)="toggleNavigation('mainNavigation')">
          <mat-icon [svgIcon]="'heroicons_outline:menu'"></mat-icon>
        </button>
      </ng-container>
      <!-- 组件 -->
      <div class="flex items-center pl-2 ml-auto space-x-1 sm:space-x-2">
        <languages></languages>
        <ws-fullscreen class="hidden md:block"></ws-fullscreen>
        <search [appearance]="'bar'"></search>
        <shortcuts></shortcuts>
        <messages></messages>
        <notifications></notifications>
        <user></user>
      </div>
    </div>

    <!-- 内容 -->
    <div class="flex flex-col flex-auto w-full bg-default">
      <!-- *ngIf="true"需要在这里放置为了router-outlet正常工作。
           否则，布局的改变将不会被注册，视图也不会被更新! -->
      <router-outlet *ngIf="true"></router-outlet>
    </div>

    <!-- 底部 -->
    <div
      class="relative flex items-center justify-start w-full h-16 px-6 border-t flex-0 sm:h-20 sm:px-8 z-49 bg-card dark:bg-default print:hidden"
    >
      <span class="font-medium text-secondary">Ws &copy; {{ currentYear }}</span>
    </div>
  </div>
</div>
